<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      >
    <h:head>
        <title>Sua Cesta</title>
        <h:outputStylesheet library="css" name="estilo.css" />
    </h:head>
    <h:body>
        
        <header id="main-header">Locadora de Filmes - Seu filme está aqui
                        </header> 
        
                        <nav id="menu">
                                <ul>
                                    <center>
                                    <li><a href="index.xhtml">Cadastrar</a></li>
                                    <li><a href="lista.xhtml">Ver Lista</a></li>
                                    <li><a href="cesta.xhtml">Cesta</a></li>
                                    </center>
                                </ul>
                            </nav>
        <h:form>
            
                <p:fieldset legend="Filmes na Cesta">
                <p:dataTable value="#{cesta.cesta}" var="f">
                    <p:column headerText="ID" sortBy="#{f.id}">
                        <f:facet name="header">Id</f:facet>
                        <p:outputLabel value="#{f.id}"/>
                    </p:column>
                    <p:column headerText="Título" sortBy="#{f.titulo}">
                        <f:facet name="header">Título</f:facet>
                        <p:outputLabel value="#{f.titulo}"/>
                    </p:column>

                    <p:column headerText="Descrição">
                        <f:facet name="header">Deescrição</f:facet>
                        <h:outputText value="#{f.descricao}"></h:outputText>
                    </p:column>

                    <p:column headerText="Data de Lançamento">
                        <f:facet name="header">Data de Lançamento</f:facet>
                        <h:outputText value="#{f.data_lancamento}"></h:outputText>
                    </p:column>

                    <p:column headerText="Nota">
                        <f:facet name="header">Nota</f:facet>
                        <h:outputText value="#{f.nota}"></h:outputText>
                    </p:column>
                    
                    <p:column>
                        <h:commandButton action="#{cesta.removerFilme(f)}" value="Remover"/>
                    </p:column>
              
                    
                </p:dataTable>


                <p:toolbar>
                    <p:toolbarGroup>
                        <h:commandButton action="lista.xhtml" value="Ver Loja" immediate="true"/>

                    </p:toolbarGroup>
                </p:toolbar>
            </p:fieldset>
            
            <h:form>
                
                <p:toolbarGroup>
                    <h:commandButton styleClass="button button3" value="Finalizar Compra" action="#{cesta.finalizarCompra()}" />
                <h:commandButton styleClass="button button2" value="Limpar Cesta" action="#{cesta.limparCesta()}">
                </h:commandButton>
                <br/><br/>
                <h:outputLabel value="Sua compra teve o valor de: #{cesta.valor}$" />
                </p:toolbarGroup>
            
            </h:form>
            
            
            
        </h:form>
    </h:body>
</html>

